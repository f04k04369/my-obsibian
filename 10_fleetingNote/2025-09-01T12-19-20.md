---
tags: []
aliases:
UID: 2025-09-01T12-19-20
date: 2025-09-01 12:19
---
# `grep`コマンド解説

`grep`コマンドは、ファイルや標準入力の中から特定の文字列やパターンを検索するために使用される、非常に強力なLinuxコマンドです。特に、正規表現を使って高度な検索を行うことができ、テキスト処理において重要な役割を果たします。

### `grep`コマンドの基本

|   |   |
|---|---|
|**項目**|**説明**|
|**コマンド名**|`grep` （"**g**lobal **r**egular **e**xpression **p**rint" の略）|
|**概要**|ファイルまたは標準入力から、**特定のパターン（文字列や正規表現）に一致する行を検索し、その行全体を表示**します。|
|**書式**|`grep [オプション] "検索パターン" [ファイル名]`|

### 主なオプション

|   |   |
|---|---|
|**オプション**|**説明**|
|`-i`|**大文字・小文字を区別せず**に検索します。(ignore case)|
|`-v`|検索パターンに**一致しない行**をすべて表示します。(invert match)|
|`-l`|パターンに一致した**ファイル名のみ**を表示します。(list files)|
|`-r`|サブディレクトリ内も**再帰的**に検索します。(recursive)|
|`-n`|一致した行の**行番号**を付けて表示します。(line number)|
|`-w`|**単語単位**で完全に一致する行のみを検索します。(word regexp)|
|`-E`|**拡張正規表現**（`\|`, `+`, `?`など）を使用可能にします。(extended regexp)|
|`-F`|パターンを正規表現ではなく**固定文字列**として扱います。特殊文字もそのまま検索できます。(fixed strings)|

### 便利な使い方と使用例

`grep`は他のコマンドと組み合わせることで、さらに効果を発揮します。

#### 基本的な検索

現在のディレクトリにある`.txt`ファイルの中から、"rat"という文字列を含む行を検索します。

```
grep "rat" *.txt
```

#### 結果をファイルに出力（リダイレクト）

`test.txt`から"test"を含む行を検索し、その結果を`result.txt`に保存します。

```
grep "test" test.txt > result.txt
```

#### 一致した行数をカウント（パイプ）

`test.txt`から"test"を含む行数を数えます。

```
grep "test" test.txt | wc -l
```

#### 複数の条件で検索（OR検索）

`access.log`から "error" または "warn" という文字列を含む行を検索します。

```
grep -E "error|warn" access.log
```

#### 他のコマンドと連携

ログイン失敗ログから、"mine"で始まるユーザーを抽出します。

```
lastb -w | cut -f1 -d " " | sort | uniq | grep '^mine'
```

### 困ったときの調べ方

|   |   |
|---|---|
|**目的**|**コマンド例**|
|**関連コマンドを探す**|`apropos キーワード`|
|**コマンドの詳細な使い方を知る**|`man コマンド名`|
|**使えるオプションの一覧を見る**|`grep --help`|